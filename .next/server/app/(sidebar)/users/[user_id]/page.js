(()=>{var e={};e.id=88,e.ids=[88],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8329:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(1583),a(3632),a(5866),a(5274);var r=a(3191),s=a(8716),n=a(7922),i=a.n(n),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["(sidebar)",{children:["users",{children:["[user_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1583)),"/Users/abhinavsrivastava/Desktop/Scan/scan_admin_frontend/app/(sidebar)/users/[user_id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3632)),"/Users/abhinavsrivastava/Desktop/Scan/scan_admin_frontend/app/(sidebar)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,5274)),"/Users/abhinavsrivastava/Desktop/Scan/scan_admin_frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/abhinavsrivastava/Desktop/Scan/scan_admin_frontend/app/(sidebar)/users/[user_id]/page.tsx"],u="/(sidebar)/users/[user_id]/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(sidebar)/users/[user_id]/page",pathname:"/users/[user_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9060:(e,t,a)=>{Promise.resolve().then(a.bind(a,3364))},7058:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});var r=a(326),s=a(4723);function n({form:e,onSubmit:t,children:a,className:n=""}){return r.jsx(s.RV,{...e,children:r.jsx("form",{onSubmit:e.handleSubmit(t),className:n,children:a})})}},4786:(e,t,a)=>{"use strict";a.d(t,{t:()=>v});var r=a(326),s=a(7577),n=a(4214),i=a(4723),l=a(7863),o=a(4478);let d=(0,a(9360).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...t},a)=>r.jsx(o.f,{ref:a,className:(0,l.cn)(d(),e),...t}));c.displayName=o.f.displayName;let u=s.createContext({}),m=({...e})=>r.jsx(u.Provider,{value:{name:e.name},children:r.jsx(i.Qr,{...e})}),p=()=>{let e=s.useContext(u),t=s.useContext(f),{getFieldState:a,formState:r}=(0,i.Gc)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...n}},f=s.createContext({}),x=s.forwardRef(({className:e,...t},a)=>{let n=s.useId();return r.jsx(f.Provider,{value:{id:n},children:r.jsx("div",{ref:a,className:(0,l.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let g=s.forwardRef(({className:e,...t},a)=>{let{error:s,formItemId:n}=p();return r.jsx(c,{ref:a,className:(0,l.cn)(s&&"text-destructive",e),htmlFor:n,...t})});g.displayName="FormLabel";let h=s.forwardRef(({...e},t)=>{let{error:a,formItemId:s,formDescriptionId:i,formMessageId:l}=p();return r.jsx(n.g7,{ref:t,id:s,"aria-describedby":a?`${i} ${l}`:`${i}`,"aria-invalid":!!a,...e})});h.displayName="FormControl",s.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:s}=p();return r.jsx("p",{ref:a,id:s,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",e),...t})}).displayName="FormDescription";let b=s.forwardRef(({className:e,children:t,...a},s)=>{let{error:n,formMessageId:i}=p(),o=n?String(n?.message??""):t;return o?r.jsx("p",{ref:s,id:i,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",e),...a,children:o}):null});b.displayName="FormMessage";let y=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));function v({name:e,label:t,placeholder:a,type:n="text",className:o,disabled:d}){let{control:c}=(0,i.Gc)();return r.jsx(m,{control:c,name:e,render:({field:e})=>{let i=(0,s.useRef)(null),c=(0,l.cn)("rounded-xl border-emerald-500 bg-[#0A0D14] py-4 text-white placeholder-gray-400",o);return(0,r.jsxs)(x,{children:[t&&r.jsx(g,{children:t}),r.jsx(h,{children:"textarea"===n?r.jsx("textarea",{...e,ref:t=>{e.ref(t),i.current=t},placeholder:a,disabled:d,rows:3,className:(0,l.cn)(c,"resize-none w-full p-2"),onInput:t=>{let a=t.target;a.style.height="auto",a.style.height=a.scrollHeight+"px",e.onChange(a.value)}}):r.jsx(y,{...e,type:n,placeholder:a,disabled:d,className:c})}),r.jsx(b,{})]})}})}y.displayName="Input"},3364:(e,t,a)=>{"use strict";a.d(t,{default:()=>tA});var r=a(326),s=a(7577),n=a(5999),i=a(6824),l=a(7863),o=a(4138),d=a(765),c=a(3071);let u={1:"Scaninfoga Intelligence"},m=({user_id:e})=>{let[t,a]=(0,s.useState)([]),[m,p]=(0,s.useState)(1),[f,x]=(0,s.useState)(10),[g,h]=(0,s.useState)(0),[b,y]=(0,s.useState)(!1),v=async()=>{if(e)try{y(!0);let t=await (0,i.U2)(`/api/admin/get-user-bookmark-list?user_id=${e}&page=${m}&page_size=${f}`),r=t?.responseData?.result||[],s=t?.responseData?.paginationDetails?.count||0;a(r),h(s)}catch(e){n.A.error("Error fetching bookmarks"),console.error(e)}finally{y(!1)}};return(0,s.useEffect)(()=>{v()},[m,f,e]),(0,r.jsxs)(c.Zb,{className:"p-4",children:[r.jsx("h1",{className:"mb-2 font-semibold",children:"Bookmark Information"}),r.jsx(o.G,{columns:[{title:"ID",dataIndex:"id"},{title:"Bookmark Page",dataIndex:"bookmark_page",render:e=>u[e]||"N/A"},{title:"Created At",dataIndex:"created_at",render:e=>(0,l.p)(e)},{title:"Mobile Number",dataIndex:"payload",render:e=>e?.mobileNumber||"N/A"},{title:"Latitude",dataIndex:"latitude"},{title:"Longitude",dataIndex:"longitude"},{title:"Case Type",dataIndex:"case_type"},{title:"Case Description",dataIndex:"case_description"},{title:"Investigator",dataIndex:"investigator"},{title:"Updated At",dataIndex:"updated_at",render:e=>(0,l.p)(e)},{title:"Status",dataIndex:"status"}],dataSource:t,loading:b}),r.jsx(d.Z,{currentPage:m,totalRecords:g,pageSize:f,onPageChange:p,onPageSizeChange:e=>{p(1),x(e)},pageSizeOptions:[5,10,20,50]})]})};var p=a(2561),f=a(3095),x=a(7747),g=a(8051),h=a(8957),b=a(5226),y=a(5049),v=a(2067),j=a(7124),N="rovingFocusGroup.onEntryFocus",w={bubbles:!1,cancelable:!0},I="RovingFocusGroup",[S,_,D]=(0,x.B)(I),[C,R]=(0,f.b)(I,[D]),[k,P]=C(I),A=s.forwardRef((e,t)=>(0,r.jsx)(S.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(S.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(M,{...e,ref:t})})}));A.displayName=I;var M=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:n,loop:i=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...f}=e,x=s.useRef(null),h=(0,g.e)(t,x),S=(0,j.gm)(l),[D,C]=(0,v.T)({prop:o,defaultProp:d??null,onChange:c,caller:I}),[R,P]=s.useState(!1),A=(0,y.W)(u),M=_(a),E=s.useRef(!1),[T,F]=s.useState(0);return s.useEffect(()=>{let e=x.current;if(e)return e.addEventListener(N,A),()=>e.removeEventListener(N,A)},[A]),(0,r.jsx)(k,{scope:a,orientation:n,dir:S,loop:i,currentTabStopId:D,onItemFocus:s.useCallback(e=>C(e),[C]),onItemShiftTab:s.useCallback(()=>P(!0),[]),onFocusableItemAdd:s.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>F(e=>e-1),[]),children:(0,r.jsx)(b.WV.div,{tabIndex:R||0===T?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:(0,p.M)(e.onMouseDown,()=>{E.current=!0}),onFocus:(0,p.M)(e.onFocus,e=>{let t=!E.current;if(e.target===e.currentTarget&&t&&!R){let t=new CustomEvent(N,w);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=M().filter(e=>e.focusable);O([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),m)}}E.current=!1}),onBlur:(0,p.M)(e.onBlur,()=>P(!1))})})}),E="RovingFocusGroupItem",T=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:n=!0,active:i=!1,tabStopId:l,children:o,...d}=e,c=(0,h.M)(),u=l||c,m=P(E,a),f=m.currentTabStopId===u,x=_(a),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:v}=m;return s.useEffect(()=>{if(n)return g(),()=>y()},[n,g,y]),(0,r.jsx)(S.ItemSlot,{scope:a,id:u,focusable:n,active:i,children:(0,r.jsx)(b.WV.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:(0,p.M)(e.onMouseDown,e=>{n?m.onItemFocus(u):e.preventDefault()}),onFocus:(0,p.M)(e.onFocus,()=>m.onItemFocus(u)),onKeyDown:(0,p.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){m.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var r;let s=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return F[s]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let r=a.indexOf(e.currentTarget);a=m.loop?function(e,t){return e.map((a,r)=>e[(t+r)%e.length])}(a,r+1):a.slice(r+1)}setTimeout(()=>O(a))}}),children:"function"==typeof o?o({isCurrentTabStop:f,hasTabStop:null!=v}):o})})});T.displayName=E;var F={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O(e,t=!1){let a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}var L=a(5819),U=e=>{let{present:t,children:a}=e,r=function(e){var t,a;let[r,n]=s.useState(),i=s.useRef(null),l=s.useRef(e),o=s.useRef("none"),[d,c]=(t=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},s.useReducer((e,t)=>a[e][t]??e,t));return s.useEffect(()=>{let e=z(i.current);o.current="mounted"===d?e:"none"},[d]),(0,L.b)(()=>{let t=i.current,a=l.current;if(a!==e){let r=o.current,s=z(t);e?c("MOUNT"):"none"===s||t?.display==="none"?c("UNMOUNT"):a&&r!==s?c("ANIMATION_OUT"):c("UNMOUNT"),l.current=e}},[e,c]),(0,L.b)(()=>{if(r){let e;let t=r.ownerDocument.defaultView??window,a=a=>{let s=z(i.current).includes(a.animationName);if(a.target===r&&s&&(c("ANIMATION_END"),!l.current)){let a=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=a)})}},s=e=>{e.target===r&&(o.current=z(i.current))};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:s.useCallback(e=>{i.current=e?getComputedStyle(e):null,n(e)},[])}}(t),n="function"==typeof a?a({present:r.isPresent}):s.Children.only(a),i=(0,g.e)(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(a=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof a||r.isPresent?s.cloneElement(n,{ref:i}):null};function z(e){return e?.animationName||"none"}U.displayName="Presence";var $="Tabs",[Z,q]=(0,f.b)($,[R]),W=R(),[V,B]=Z($),G=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:d="automatic",...c}=e,u=(0,j.gm)(o),[m,p]=(0,v.T)({prop:s,onChange:n,defaultProp:i??"",caller:$});return(0,r.jsx)(V,{scope:a,baseId:(0,h.M)(),value:m,onValueChange:p,orientation:l,dir:u,activationMode:d,children:(0,r.jsx)(b.WV.div,{dir:u,"data-orientation":l,...c,ref:t})})});G.displayName=$;var H="TabsList",K=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,i=B(H,a),l=W(a);return(0,r.jsx)(A,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:(0,r.jsx)(b.WV.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});K.displayName=H;var Y="TabsTrigger",J=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:n=!1,...i}=e,l=B(Y,a),o=W(a),d=ee(l.baseId,s),c=et(l.baseId,s),u=s===l.value;return(0,r.jsx)(T,{asChild:!0,...o,focusable:!n,active:u,children:(0,r.jsx)(b.WV.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:t,onMouseDown:(0,p.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(s)}),onKeyDown:(0,p.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(s)}),onFocus:(0,p.M)(e.onFocus,()=>{let e="manual"!==l.activationMode;u||n||!e||l.onValueChange(s)})})})});J.displayName=Y;var X="TabsContent",Q=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:i,children:l,...o}=e,d=B(X,a),c=ee(d.baseId,n),u=et(d.baseId,n),m=n===d.value,p=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(U,{present:i||m,children:({present:a})=>(0,r.jsx)(b.WV.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!a,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&l})})});function ee(e,t){return`${e}-trigger-${t}`}function et(e,t){return`${e}-content-${t}`}Q.displayName=X;let ea=s.forwardRef(({className:e,...t},a)=>r.jsx(K,{ref:a,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ea.displayName=K.displayName;let er=s.forwardRef(({className:e,...t},a)=>r.jsx(J,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));er.displayName=J.displayName;let es=s.forwardRef(({className:e,...t},a)=>r.jsx(Q,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));es.displayName=Q.displayName;let en=({tabs:e,defaultValue:t})=>{let a=t??e[0]?.value??"",[n,i]=(0,s.useState)(a);return(0,r.jsxs)(G,{value:n,onValueChange:i,className:"w-full",children:[r.jsx(ea,{className:"grid h-auto w-full grid-cols-2 rounded-lg border border-slate-800 bg-slate-900 p-1 text-white sm:w-auto sm:grid-cols-7 md:grid-cols-8",children:e.map(e=>r.jsx(er,{value:e.value,className:"rounded-md data-[state=active]:bg-slate-800 data-[state=active]:text-emerald-500",children:e.label},e.value))}),e.map(e=>r.jsx(es,{value:e.value,children:e.component},e.value))]})};var ei=a(3418),el=a(2881);let eo=(0,el.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var ed=a(198);let ec={ipAddress:"IP Address",device:"Device",browser:"Browser",userAgent:"User Agent",platform:"Platform",language:"Language",cookiesEnabled:"Cookies Enabled",javascriptEnabled:"JavaScript Enabled",touchSupport:"Touch Support",deviceType:"Device Type",cpuCores:"CPU Cores",memory:"Memory",screenSize:"Screen Size",batteryLevel:"Battery Level",isCharging:"Is Charging",gpuRenderer:"GPU Renderer",cameras:"Cameras",microphones:"Microphones",publicIp:"Public IP",isp:"ISP",asn:"ASN",possibleIoT:"Possible IoT"},eu=({data:e,loading:t})=>{if(t||!e)return r.jsx(ed.a,{});let a=(e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h3",{className:"font-semibold text-white",children:[e,":"]}),r.jsx("p",{className:"text-gray-300",children:null!=t?String(t):"N/A"})]},e);return(0,r.jsxs)(c.Zb,{className:"card-bg border-slate-700 row-span-2 text-sm",children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center text-emerald-500",children:[r.jsx(eo,{className:"h-5 w-5 text-emerald-500"}),"Location Overview"]})}),r.jsx(c.aY,{children:r.jsx("div",{className:"grid grid-cols-2 gap-2",children:e&&Object.entries(e).map(([e,t])=>{let r=ec[e]||null;return r?a(r,t):null}).filter(e=>null!==e)})})]})},em=({data:e,loading:t})=>t||!e?r.jsx(ed.a,{}):(0,r.jsxs)(c.Zb,{className:"card-bg border-slate-700",children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[r.jsx(eo,{className:"h-5 w-5 text-emerald-500"}),"Location Overview"]})}),(0,r.jsxs)(c.aY,{children:[(0,r.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-white",children:"Latitude:"}),r.jsx("p",{className:"text-gray-300",children:e.latitude})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-white",children:"Longitude:"}),r.jsx("p",{className:"text-gray-300",children:e.longitude})]})]}),r.jsx("div",{className:"relative flex h-64 items-center justify-center overflow-hidden rounded-lg border border-slate-800 bg-gradient-to-br from-slate-900 to-slate-800"})]})]}),ep=({user_id:e})=>{let[t,a]=(0,s.useState)([]),[u,m]=(0,s.useState)(1),[p,f]=(0,s.useState)(10),[x,g]=(0,s.useState)(0),[h,b]=(0,s.useState)(!1),y=async()=>{if(e)try{b(!0);let t=await (0,i.U2)(`/api/admin/get-login-history?user_id=${e}&page=${u}&page_size=${p}`),r=t?.responseData?.result||[],s=t?.responseData?.paginationDetails?.count||0;a(r),g(s)}catch(e){n.A.error("Error fetching login history"),console.error(e)}finally{b(!1)}};return(0,s.useEffect)(()=>{y()},[u,p,e]),(0,r.jsxs)(c.Zb,{className:"p-4",children:[r.jsx("h1",{className:"mb-2 font-semibold",children:"Login History"}),r.jsx(o.G,{columns:[{title:"Date",dataIndex:"created_at",render:e=>(0,l.p)(e),width:120},{title:"IP Address",dataIndex:"ipAddress"},{title:"Device",dataIndex:"device"},{title:"Browser",dataIndex:"browser"},{title:"Platform",dataIndex:"platform"},{title:"Language",dataIndex:"language"},{title:"City",dataIndex:"city"},{title:"Country",dataIndex:"country"},{title:"Latitude",dataIndex:"latitude"},{title:"Longitude",dataIndex:"longitude"},{title:"Public IP",dataIndex:"publicIp"},{title:"ISP",dataIndex:"isp"},{title:"ASN",dataIndex:"asn"},{title:"Cookies Enabled",dataIndex:"cookiesEnabled",render:e=>e?"Yes":"No"},{title:"JavaScript Enabled",dataIndex:"javascriptEnabled",render:e=>e?"Yes":"No"},{title:"Touch Support",dataIndex:"touchSupport",render:e=>e?"Yes":"No"},{title:"Device Type",dataIndex:"deviceType"},{title:"CPU Cores",dataIndex:"cpuCores"},{title:"Memory",dataIndex:"memory"},{title:"Screen Size",dataIndex:"screenSize"},{title:"Battery Level",dataIndex:"batteryLevel"},{title:"Is Charging",dataIndex:"isCharging",render:e=>e?"Yes":"No"},{title:"GPU Renderer",dataIndex:"gpuRenderer"},{title:"Cameras",dataIndex:"cameras"},{title:"Microphones",dataIndex:"microphones"},{title:"Possible IoT",dataIndex:"possibleIoT",render:e=>e?"Yes":"No"}],dataSource:t,loading:h}),r.jsx(d.Z,{currentPage:u,totalRecords:x,pageSize:p,onPageChange:m,onPageSizeChange:e=>{m(1),f(e)},pageSizeOptions:[5,10,20,50]})]})};var ef=a(772),ex=a(825),eg=a(441),eh=a(2713),eb=a(699),ey=a(8260),ev=a(5664),ej=a(4214),eN="Dialog",[ew,eI]=(0,f.b)(eN),[eS,e_]=ew(eN),eD=e=>{let{__scopeDialog:t,children:a,open:n,defaultOpen:i,onOpenChange:l,modal:o=!0}=e,d=s.useRef(null),c=s.useRef(null),[u,m]=(0,v.T)({prop:n,defaultProp:i??!1,onChange:l,caller:eN});return(0,r.jsx)(eS,{scope:t,triggerRef:d,contentRef:c,contentId:(0,h.M)(),titleId:(0,h.M)(),descriptionId:(0,h.M)(),open:u,onOpenChange:m,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),modal:o,children:a})};eD.displayName=eN;var eC="DialogTrigger";s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,n=e_(eC,a),i=(0,g.e)(t,n.triggerRef);return(0,r.jsx)(b.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":eH(n.open),...s,ref:i,onClick:(0,p.M)(e.onClick,n.onOpenToggle)})}).displayName=eC;var eR="DialogPortal",[ek,eP]=ew(eR,{forceMount:void 0}),eA=e=>{let{__scopeDialog:t,forceMount:a,children:n,container:i}=e,l=e_(eR,t);return(0,r.jsx)(ek,{scope:t,forceMount:a,children:s.Children.map(n,e=>(0,r.jsx)(U,{present:a||l.open,children:(0,r.jsx)(eh.h,{asChild:!0,container:i,children:e})}))})};eA.displayName=eR;var eM="DialogOverlay",eE=s.forwardRef((e,t)=>{let a=eP(eM,e.__scopeDialog),{forceMount:s=a.forceMount,...n}=e,i=e_(eM,e.__scopeDialog);return i.modal?(0,r.jsx)(U,{present:s||i.open,children:(0,r.jsx)(eF,{...n,ref:t})}):null});eE.displayName=eM;var eT=(0,ej.Z8)("DialogOverlay.RemoveScroll"),eF=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,n=e_(eM,a);return(0,r.jsx)(ey.Z,{as:eT,allowPinchZoom:!0,shards:[n.contentRef],children:(0,r.jsx)(b.WV.div,{"data-state":eH(n.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),eO="DialogContent",eL=s.forwardRef((e,t)=>{let a=eP(eO,e.__scopeDialog),{forceMount:s=a.forceMount,...n}=e,i=e_(eO,e.__scopeDialog);return(0,r.jsx)(U,{present:s||i.open,children:i.modal?(0,r.jsx)(eU,{...n,ref:t}):(0,r.jsx)(ez,{...n,ref:t})})});eL.displayName=eO;var eU=s.forwardRef((e,t)=>{let a=e_(eO,e.__scopeDialog),n=s.useRef(null),i=(0,g.e)(t,a.contentRef,n);return s.useEffect(()=>{let e=n.current;if(e)return(0,ev.Ry)(e)},[]),(0,r.jsx)(e$,{...e,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,p.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,p.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,p.M)(e.onFocusOutside,e=>e.preventDefault())})}),ez=s.forwardRef((e,t)=>{let a=e_(eO,e.__scopeDialog),n=s.useRef(!1),i=s.useRef(!1);return(0,r.jsx)(e$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||a.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),e$=s.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:l,...o}=e,d=e_(eO,a),c=s.useRef(null),u=(0,g.e)(t,c);return(0,eb.EW)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eg.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,r.jsx)(ex.XB,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":eH(d.open),...o,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eX,{titleId:d.titleId}),(0,r.jsx)(eQ,{contentRef:c,descriptionId:d.descriptionId})]})]})}),eZ="DialogTitle",eq=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,n=e_(eZ,a);return(0,r.jsx)(b.WV.h2,{id:n.titleId,...s,ref:t})});eq.displayName=eZ;var eW="DialogDescription",eV=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,n=e_(eW,a);return(0,r.jsx)(b.WV.p,{id:n.descriptionId,...s,ref:t})});eV.displayName=eW;var eB="DialogClose",eG=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,n=e_(eB,a);return(0,r.jsx)(b.WV.button,{type:"button",...s,ref:t,onClick:(0,p.M)(e.onClick,()=>n.onOpenChange(!1))})});function eH(e){return e?"open":"closed"}eG.displayName=eB;var eK="DialogTitleWarning",[eY,eJ]=(0,f.k)(eK,{contentName:eO,titleName:eZ,docsSlug:"dialog"}),eX=({titleId:e})=>{let t=eJ(eK),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&!document.getElementById(e)&&console.error(a)},[a,e]),null},eQ=({contentRef:e,descriptionId:t})=>{let a=eJ("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null};let e0=(0,el.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),e1=s.forwardRef(({className:e,...t},a)=>r.jsx(eE,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));e1.displayName=eE.displayName;let e2=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(eA,{children:[r.jsx(e1,{}),(0,r.jsxs)(eL,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(eG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(e0,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));e2.displayName=eL.displayName;let e5=({className:e,...t})=>r.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});e5.displayName="DialogHeader";let e4=({className:e,...t})=>r.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e4.displayName="DialogFooter";let e9=s.forwardRef(({className:e,...t},a)=>r.jsx(eq,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));function e3({open:e,title:t,children:a,onClose:s,onOk:n,okText:i="OK",cancelText:l="Cancel",loading:o=!1,showFooter:d=!0}){return r.jsx(eD,{open:e,onOpenChange:e=>!e&&s(),children:(0,r.jsxs)(e2,{className:"border-gray-500 bg-black",children:[r.jsx(e5,{children:r.jsx(e9,{className:"text-emerald-500",children:t||""})}),r.jsx("div",{className:"py-2",children:a}),d&&(0,r.jsxs)(e4,{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(ef.z,{variant:"outline",onClick:s,children:l}),r.jsx(ef.z,{onClick:n,disabled:o,children:o?"Loading...":i})]})]})})}e9.displayName=eq.displayName,s.forwardRef(({className:e,...t},a)=>r.jsx(eV,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName=eV.displayName;var e6=a(4723),e7=a(7670),e8=a(4064),te=a(7058),tt=a(4786);let ta=e7.Ry({note:e7.Z_().optional()});function tr({note:e,user_id:t}){let[a,l]=(0,s.useState)(!1),o=(0,e6.cI)({resolver:(0,e8.F)(ta),defaultValues:{note:e}}),d=async e=>{let a={...e,user_id:t};console.log("Payload: ",a);try{l(!0),await (0,i.v_)("/api/admin/user-note",a),n.A.success("Note submitted successfully!",{duration:800})}catch(e){n.A.error("Failed to submit note.")}finally{l(!1)}};return r.jsx("div",{className:"w-full space-y-4",children:(0,r.jsxs)(te.y,{form:o,onSubmit:d,className:"space-y-4",children:[r.jsx(tt.t,{name:"note",type:"textarea",placeholder:"Add note"}),r.jsx(ef.z,{type:"submit",className:"w-full bg-emerald-500 text-black hover:bg-emerald-400",disabled:a,children:a?"Saving..":"Save"})]})})}let ts=({user_id:e})=>{let[t,a]=(0,s.useState)(""),[l,o]=(0,s.useState)(!1),d=async()=>{try{let t=await (0,i.U2)(`/api/admin/user-note?user_id=${e}`);a(t.responseData.note||"")}catch(e){n.A.error("Failed to load the user note"),console.error("Fetch note failed: ",e)}};return(0,s.useEffect)(()=>{d()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Zb,{className:"card-bg border-slate-700",children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[r.jsx(eo,{className:"h-5 w-5 text-emerald-500"}),"Wallet"]})}),(0,r.jsxs)(c.aY,{children:[t&&r.jsx("div",{className:"border p-2 mb-2",children:t.substring(0,50)+"..."}),r.jsx("div",{className:"flex justify-center",children:r.jsx(ef.z,{onClick:()=>o(!0),children:" Add / View Note "})})]})]}),r.jsx(e3,{open:l,onClose:()=>o(!1),title:"Note",showFooter:!1,children:r.jsx(tr,{note:t,user_id:e})})]})},tn=(0,el.Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);(0,el.Z)("frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),(0,el.Z)("meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),(0,el.Z)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);let ti=(0,el.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),tl=(0,el.Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),to=(0,a(9360).j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function td({className:e,variant:t,...a}){return r.jsx("div",{className:(0,l.cn)(to({variant:t}),e),...a})}let tc=({data:e,loading:t})=>(console.log("Data: ",e?.subscription_plan),t||!e)?r.jsx(ed.a,{}):(0,r.jsxs)(c.Zb,{className:"card-bg border-slate-700 row-span-2",children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[r.jsx(ti,{className:"h-5 w-5"}),"Profile Information"]})}),(0,r.jsxs)(c.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 shadow-lg",children:r.jsx(ti,{className:"h-8 w-8 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold text-white",children:[e.firstName," ",e.lastName]}),(0,r.jsxs)("p",{className:"flex items-center gap-1 text-slate-300",children:[r.jsx(tl,{className:"h-4 w-4"}),e.email]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[r.jsx("span",{className:"text-slate-300",children:"First Name"}),r.jsx("span",{className:"font-medium text-white",children:e.firstName})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[r.jsx("span",{className:"text-slate-300",children:"Last Name"}),r.jsx("span",{className:"font-medium text-white",children:e.lastName})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[r.jsx("span",{className:"text-slate-300",children:"Email"}),r.jsx("span",{className:"font-medium text-white",children:e.email})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[r.jsx("span",{className:"text-slate-300",children:"Phone"}),r.jsx("span",{className:"font-medium text-white",children:e.phone||"Not Added"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[r.jsx("span",{className:"text-slate-300",children:"Date Joined"}),r.jsx("span",{className:"font-medium text-white",children:(0,l.R)(e.date_joined)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"font-medium text-slate-300",children:"Subscription"}),(0,r.jsxs)(td,{className:`${(e=>{switch(e){case"SILVER":default:return"bg-gradient-to-r from-gray-400 to-gray-600 text-white border-gray-300";case"GOLD":return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white border-yellow-300";case"PLATINUM":return"bg-gradient-to-r from-blue-400 to-blue-600 text-white border-blue-300"}})(e.subscription_plan)} border-2 px-4 py-2 text-sm font-bold shadow-lg`,children:[(e.subscription_plan,r.jsx(tn,{className:"h-5 w-5"})),r.jsx("span",{className:"space-x-1 uppercase tracking-wide",children:(0,r.jsxs)("span",{className:"ml-2 text-xs",children:[" ",e?.subscription_plan||"ABCD"," "]})})]})]})]})]})]}),tu=({user_id:e})=>{let[t,a]=(0,s.useState)([]),[u,m]=(0,s.useState)(1),[p,f]=(0,s.useState)(10),[x,g]=(0,s.useState)(0),[h,b]=(0,s.useState)(!1),y=async()=>{if(e)try{b(!0);let t=await (0,i.U2)(`/api/admin/get-user-activity?user_id=${e}&page=${u}&page_size=${p}`),r=t?.responseData?.result||[],s=t?.responseData?.paginationDetails?.count||0;a(r),g(s)}catch(e){n.A.error("Error fetching user activity"),console.error(e)}finally{b(!1)}};return(0,s.useEffect)(()=>{y()},[u,p,e]),(0,r.jsxs)(c.Zb,{className:"p-4",children:[r.jsx("h1",{className:"mb-2 font-semibold",children:"User Activity"}),r.jsx(o.G,{columns:[{title:"ID",dataIndex:"id"},{title:"Email",dataIndex:"email"},{title:"API Called",dataIndex:"api_called"},{title:"Activity Time",dataIndex:"activity_time",render:e=>(0,l.p)(e)},{title:"Request Payload",dataIndex:"request_payload",render:e=>JSON.stringify(e)},{title:"Browser",dataIndex:"browser"},{title:"IP Address",dataIndex:"ip_address"},{title:"Latitude",dataIndex:"latitude"},{title:"Longitude",dataIndex:"longitude"}],dataSource:t,loading:h}),r.jsx(d.Z,{currentPage:u,totalRecords:x,pageSize:p,onPageChange:m,onPageSizeChange:e=>{m(1),f(e)},pageSizeOptions:[5,10,20,50]})]})},tm=({user_id:e})=>{let[t,a]=(0,s.useState)([]),[u,m]=(0,s.useState)(1),[p,f]=(0,s.useState)(10),[x,g]=(0,s.useState)(0),[h,b]=(0,s.useState)(!1),y=async()=>{if(e)try{b(!0);let t=await (0,i.U2)(`/api/admin/user-wallet-history?user_id=${e}&page=${u}&page_size=${p}`),r=t?.responseData.result||[],s=t?.responseData?.paginationDetails?.count||0;a(r),g(s)}catch(e){n.A.error("Error fetching wallet history"),console.error(e)}finally{b(!1)}};return(0,s.useEffect)(()=>{y()},[u,p,e]),(0,r.jsxs)(c.Zb,{className:"p-4",children:[r.jsx("h1",{className:"mb-2 font-semibold",children:"Wallet History"}),r.jsx(o.G,{columns:[{title:"ID",dataIndex:"id"},{title:"Transaction Type",dataIndex:"txn_type",render:e=>e.toUpperCase()},{title:"Amount",dataIndex:"amount"},{title:"Comment",dataIndex:"comment",render:e=>e||"-"},{title:"API Name",dataIndex:"api_name",render:e=>e||"-"},{title:"Txn ID",dataIndex:"txn_id",render:e=>e||"-"},{title:"Created At",dataIndex:"created_at",render:e=>(0,l.p)(e)}],dataSource:t,loading:h}),r.jsx(d.Z,{currentPage:u,totalRecords:x,pageSize:p,onPageChange:m,onPageSizeChange:e=>{m(1),f(e)},pageSizeOptions:[5,10,20,50]})]})},tp=e7.Ry({amount:e7.Z_().refine(e=>!isNaN(Number(e))&&Number(e)>0,{message:"Amount must be a positive number"}),comment:e7.Z_().optional()});function tf({txnType:e,user_id:t}){let[a,l]=(0,s.useState)(!1),o=(0,e6.cI)({resolver:(0,e8.F)(tp),defaultValues:{amount:"",comment:""}}),d=async a=>{let r={...a,user_id:t,txn_type:e};try{l(!0),await (0,i.v_)("/api/admin/wallet-update",r),n.A.success("Transaction submitted successfully!",{duration:800}),o.reset()}catch(e){n.A.error("Failed to submit transaction.")}finally{l(!1)}};return r.jsx("div",{className:"w-full space-y-4",children:(0,r.jsxs)(te.y,{form:o,onSubmit:d,className:"space-y-4",children:[r.jsx(tt.t,{name:"amount",label:"Amount",type:"text",placeholder:"Enter amount"}),r.jsx(tt.t,{name:"comment",label:"Comment",type:"text",placeholder:"Optional comment"}),r.jsx(ef.z,{type:"submit",className:"w-full bg-emerald-500 text-black hover:bg-emerald-400",disabled:a,children:a?"Submitting...":"Submit Transaction"})]})})}let tx=({data:e,loading:t,user_id:a})=>{let[n,i]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1);return t||!e?r.jsx(ed.a,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Zb,{className:"card-bg border-slate-700",children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[r.jsx(eo,{className:"h-5 w-5 text-emerald-500"}),"Wallet"]})}),(0,r.jsxs)(c.aY,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-white",children:"Balance:"}),r.jsx("p",{className:"text-gray-300",children:e.balance})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-white",children:"Last Transaction Date:"}),r.jsx("p",{className:"text-gray-300",children:(0,l.R)(e.last_successful_transaction?.created_at)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[r.jsx(ef.z,{onClick:()=>i(!0),children:" Credit "}),r.jsx(ef.z,{onClick:()=>d(!0),children:" Debit "})]})]})]}),r.jsx(e3,{open:n,onClose:()=>i(!1),title:"Wallet Credit",showFooter:!1,children:r.jsx(tf,{txnType:"credit",user_id:a})}),r.jsx(e3,{open:o,onClose:()=>d(!1),title:"Wallet Debit",showFooter:!1,children:r.jsx(tf,{txnType:"debit",user_id:a})})]})},{Axios:tg,AxiosError:th,CanceledError:tb,isCancel:ty,CancelToken:tv,VERSION:tj,all:tN,Cancel:tw,isAxiosError:tI,spread:tS,toFormData:t_,AxiosHeaders:tD,HttpStatusCode:tC,formToJSON:tR,getAdapter:tk,mergeConfig:tP}=a(4099).default,tA=({user_id:e})=>{let[t,a]=(0,s.useState)(!1),[l,o]=(0,s.useState)(),[d,c]=(0,s.useState)(),[u,p]=(0,s.useState)(),[f,x]=(0,s.useState)(),g=[{value:"bookmarks",label:"Bookmarks",component:r.jsx(m,{user_id:e})},{value:"loginHistory",label:"Login History",component:r.jsx(ep,{user_id:e})},{value:"walletHistory",label:"Wallet History",component:r.jsx(tm,{user_id:e})},{value:"userActivity",label:"User Activity",component:r.jsx(tu,{user_id:e})}],h=async()=>{a(!0);try{let t=await (0,i.U2)(`/api/admin/get-user-info?user_id=${e}`),a=await (0,i.U2)(`/api/admin/get-user-wallet-balance?user_id=${e}`);o(t.responseData),c(a.responseData),p(t.responseData.sessionData),x(t.responseData.sessionData)}catch(e){e instanceof th&&n.A.error(e.message),console.log(e)}finally{a(!1)}};return(0,s.useEffect)(()=>{h()},[]),(0,r.jsxs)(r.Fragment,{children:[r.jsx(ei.Z,{title:"User Profile",backButton:!0,path:"/users"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[r.jsx(tc,{data:l,loading:t}),r.jsx(tx,{data:d,loading:t,user_id:e}),r.jsx(ts,{user_id:e}),r.jsx(em,{data:u,loading:t}),r.jsx(eu,{data:f,loading:t})]}),r.jsx(en,{tabs:g})]})}},3071:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>l,Zb:()=>i,aY:()=>d,ll:()=>o});var r=a(326),s=a(7577),n=a(7863);let i=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));i.displayName="Card";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},1583:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(9510);let s=(0,a(8570).createProxy)(String.raw`/Users/abhinavsrivastava/Desktop/Scan/scan_admin_frontend/components/pages/user-profile/UserProfile.tsx#default`);function n({params:e}){let{user_id:t}=e;return r.jsx(s,{user_id:t})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[472,170,970,621,664],()=>a(8329));module.exports=r})();