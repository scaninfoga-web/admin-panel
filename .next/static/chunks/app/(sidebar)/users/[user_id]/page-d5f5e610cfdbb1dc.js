(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{2384:function(e,t,a){Promise.resolve().then(a.bind(a,6990))},3699:function(e,t,a){"use strict";a.d(t,{y:function(){return l}});var s=a(7437),r=a(9501);function l(e){let{form:t,onSubmit:a,children:l,className:n=""}=e;return(0,s.jsx)(r.RV,{...t,children:(0,s.jsx)("form",{onSubmit:t.handleSubmit(a),className:n,children:l})})}},2721:function(e,t,a){"use strict";a.d(t,{t:function(){return v}});var s=a(7437),r=a(2265),l=a(7495),n=a(9501),i=a(4508),d=a(6394);let o=(0,a(535).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(d.f,{ref:t,className:(0,i.cn)(o(),a),...r})});c.displayName=d.f.displayName;let u=r.createContext({}),m=e=>{let{...t}=e;return(0,s.jsx)(u.Provider,{value:{name:t.name},children:(0,s.jsx)(n.Qr,{...t})})},x=()=>{let e=r.useContext(u),t=r.useContext(f),{getFieldState:a,formState:s}=(0,n.Gc)(),l=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},f=r.createContext({}),p=r.forwardRef((e,t)=>{let{className:a,...l}=e,n=r.useId();return(0,s.jsx)(f.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...l})})});p.displayName="FormItem";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:l,formItemId:n}=x();return(0,s.jsx)(c,{ref:t,className:(0,i.cn)(l&&"text-destructive",a),htmlFor:n,...r})});g.displayName="FormLabel";let h=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:i,formMessageId:d}=x();return(0,s.jsx)(l.g7,{ref:t,id:n,"aria-describedby":r?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!r,...a})});h.displayName="FormControl",r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:l}=x();return(0,s.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",a),...r})}).displayName="FormDescription";let b=r.forwardRef((e,t)=>{var a;let{className:r,children:l,...n}=e,{error:d,formMessageId:o}=x(),c=d?String(null!==(a=null==d?void 0:d.message)&&void 0!==a?a:""):l;return c?(0,s.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",r),...n,children:c}):null});b.displayName="FormMessage";let j=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});function v(e){let{name:t,label:a,placeholder:l,type:d="text",className:o,disabled:c}=e,{control:u}=(0,n.Gc)();return(0,s.jsx)(m,{control:u,name:t,render:e=>{let{field:t}=e,n=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=n.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},[t.value]);let u=(0,i.cn)("rounded-xl border-emerald-500 bg-[#0A0D14] py-4 text-white placeholder-gray-400",o);return(0,s.jsxs)(p,{children:[a&&(0,s.jsx)(g,{children:a}),(0,s.jsx)(h,{children:"textarea"===d?(0,s.jsx)("textarea",{...t,ref:e=>{t.ref(e),n.current=e},placeholder:l,disabled:c,rows:3,className:(0,i.cn)(u,"resize-none w-full p-2"),onInput:e=>{let a=e.target;a.style.height="auto",a.style.height=a.scrollHeight+"px",t.onChange(a.value)}}):(0,s.jsx)(j,{...t,type:d,placeholder:l,disabled:c,className:u})}),(0,s.jsx)(b,{})]})}})}j.displayName="Input"},6990:function(e,t,a){"use strict";a.d(t,{default:function(){return es}});var s=a(7437),r=a(2265),l=a(4438),n=a(9116),i=a(4508),d=a(5924),o=a(8248),c=a(6070);let u={1:"Scaninfoga Intelligence"};var m=e=>{let{user_id:t}=e,[a,m]=(0,r.useState)([]),[x,f]=(0,r.useState)(1),[p,g]=(0,r.useState)(10),[h,b]=(0,r.useState)(0),[j,v]=(0,r.useState)(!1),y=async()=>{if(t)try{var e,a,s;v(!0);let r=await (0,n.U2)("/api/admin/get-user-bookmark-list?user_id=".concat(t,"&page=").concat(x,"&page_size=").concat(p)),l=(null==r?void 0:null===(e=r.responseData)||void 0===e?void 0:e.result)||[],i=(null==r?void 0:null===(s=r.responseData)||void 0===s?void 0:null===(a=s.paginationDetails)||void 0===a?void 0:a.count)||0;m(l),b(i)}catch(e){l.A.error("Error fetching bookmarks"),console.error(e)}finally{v(!1)}};return(0,r.useEffect)(()=>{y()},[x,p,t]),(0,s.jsxs)(c.Zb,{className:"p-4",children:[(0,s.jsx)("h1",{className:"mb-2 font-semibold",children:"Bookmark Information"}),(0,s.jsx)(d.G,{columns:[{title:"ID",dataIndex:"id"},{title:"Bookmark Page",dataIndex:"bookmark_page",render:e=>u[e]||"N/A"},{title:"Created At",dataIndex:"created_at",render:e=>(0,i.p)(e)},{title:"Mobile Number",dataIndex:"payload",render:e=>(null==e?void 0:e.mobileNumber)||"N/A"},{title:"Latitude",dataIndex:"latitude"},{title:"Longitude",dataIndex:"longitude"},{title:"Case Type",dataIndex:"case_type"},{title:"Case Description",dataIndex:"case_description"},{title:"Investigator",dataIndex:"investigator"},{title:"Updated At",dataIndex:"updated_at",render:e=>(0,i.p)(e)},{title:"Status",dataIndex:"status"}],dataSource:a,loading:j}),(0,s.jsx)(o.Z,{currentPage:x,totalRecords:h,pageSize:p,onPageChange:f,onPageSizeChange:e=>{f(1),g(e)},pageSizeOptions:[5,10,20,50]})]})},x=a(1312);let f=x.fC,p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(x.aV,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...r})});p.displayName=x.aV.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(x.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...r})});g.displayName=x.xz.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(x.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});h.displayName=x.VY.displayName;var b=e=>{var t,a;let{tabs:l,defaultValue:n}=e,i=null!==(a=null!=n?n:null===(t=l[0])||void 0===t?void 0:t.value)&&void 0!==a?a:"",[d,o]=(0,r.useState)(i);return(0,s.jsxs)(f,{value:d,onValueChange:o,className:"w-full",children:[(0,s.jsx)(p,{className:"grid h-auto w-full grid-cols-2 rounded-lg border border-slate-800 bg-slate-900 p-1 text-white sm:w-auto sm:grid-cols-7 md:grid-cols-8",children:l.map(e=>(0,s.jsx)(g,{value:e.value,className:"rounded-md data-[state=active]:bg-slate-800 data-[state=active]:text-emerald-500",children:e.label},e.value))}),l.map(e=>(0,s.jsx)(h,{value:e.value,children:e.component},e.value))]})},j=a(8910),v=a(3774),y=a(4715);let N={ipAddress:"IP Address",device:"Device",browser:"Browser",userAgent:"User Agent",platform:"Platform",language:"Language",cookiesEnabled:"Cookies Enabled",javascriptEnabled:"JavaScript Enabled",touchSupport:"Touch Support",deviceType:"Device Type",cpuCores:"CPU Cores",memory:"Memory",screenSize:"Screen Size",batteryLevel:"Battery Level",isCharging:"Is Charging",gpuRenderer:"GPU Renderer",cameras:"Cameras",microphones:"Microphones",publicIp:"Public IP",isp:"ISP",asn:"ASN",possibleIoT:"Possible IoT"},w=e=>{let{data:t,loading:a}=e;if(a||!t)return(0,s.jsx)(y.a,{});let r=(e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"font-semibold text-white",children:[e,":"]}),(0,s.jsx)("p",{className:"text-gray-300",children:null!=t?String(t):"N/A"})]},e);return(0,s.jsxs)(c.Zb,{className:"card-bg border-slate-700 row-span-2 text-sm",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center text-emerald-500",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5 text-emerald-500"}),"Location Overview"]})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t&&Object.entries(t).map(e=>{let[t,a]=e,s=N[t]||null;return s?r(s,a):null}).filter(e=>null!==e)})})]})},I=e=>{let{data:t,loading:a}=e;return a||!t?(0,s.jsx)(y.a,{}):(0,s.jsxs)(c.Zb,{className:"card-bg border-slate-700",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5 text-emerald-500"}),"Location Overview"]})}),(0,s.jsxs)(c.aY,{children:[(0,s.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Latitude:"}),(0,s.jsx)("p",{className:"text-gray-300",children:t.latitude})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Longitude:"}),(0,s.jsx)("p",{className:"text-gray-300",children:t.longitude})]})]}),(0,s.jsx)("div",{className:"relative flex h-64 items-center justify-center overflow-hidden rounded-lg border border-slate-800 bg-gradient-to-br from-slate-900 to-slate-800"})]})]})};var S=e=>{let{user_id:t}=e,[a,u]=(0,r.useState)([]),[m,x]=(0,r.useState)(1),[f,p]=(0,r.useState)(10),[g,h]=(0,r.useState)(0),[b,j]=(0,r.useState)(!1),v=async()=>{if(t)try{var e,a,s;j(!0);let r=await (0,n.U2)("/api/admin/get-login-history?user_id=".concat(t,"&page=").concat(m,"&page_size=").concat(f)),l=(null==r?void 0:null===(e=r.responseData)||void 0===e?void 0:e.result)||[],i=(null==r?void 0:null===(s=r.responseData)||void 0===s?void 0:null===(a=s.paginationDetails)||void 0===a?void 0:a.count)||0;u(l),h(i)}catch(e){l.A.error("Error fetching login history"),console.error(e)}finally{j(!1)}};return(0,r.useEffect)(()=>{v()},[m,f,t]),(0,s.jsxs)(c.Zb,{className:"p-4",children:[(0,s.jsx)("h1",{className:"mb-2 font-semibold",children:"Login History"}),(0,s.jsx)(d.G,{columns:[{title:"Date",dataIndex:"created_at",render:e=>(0,i.p)(e),width:120},{title:"IP Address",dataIndex:"ipAddress"},{title:"Device",dataIndex:"device"},{title:"Browser",dataIndex:"browser"},{title:"Platform",dataIndex:"platform"},{title:"Language",dataIndex:"language"},{title:"City",dataIndex:"city"},{title:"Country",dataIndex:"country"},{title:"Latitude",dataIndex:"latitude"},{title:"Longitude",dataIndex:"longitude"},{title:"Public IP",dataIndex:"publicIp"},{title:"ISP",dataIndex:"isp"},{title:"ASN",dataIndex:"asn"},{title:"Cookies Enabled",dataIndex:"cookiesEnabled",render:e=>e?"Yes":"No"},{title:"JavaScript Enabled",dataIndex:"javascriptEnabled",render:e=>e?"Yes":"No"},{title:"Touch Support",dataIndex:"touchSupport",render:e=>e?"Yes":"No"},{title:"Device Type",dataIndex:"deviceType"},{title:"CPU Cores",dataIndex:"cpuCores"},{title:"Memory",dataIndex:"memory"},{title:"Screen Size",dataIndex:"screenSize"},{title:"Battery Level",dataIndex:"batteryLevel"},{title:"Is Charging",dataIndex:"isCharging",render:e=>e?"Yes":"No"},{title:"GPU Renderer",dataIndex:"gpuRenderer"},{title:"Cameras",dataIndex:"cameras"},{title:"Microphones",dataIndex:"microphones"},{title:"Possible IoT",dataIndex:"possibleIoT",render:e=>e?"Yes":"No"}],dataSource:a,loading:b}),(0,s.jsx)(o.Z,{currentPage:m,totalRecords:g,pageSize:f,onPageChange:x,onPageSizeChange:e=>{x(1),p(e)},pageSizeOptions:[5,10,20,50]})]})},C=a(2869),_=a(9027),D=a(2489);let k=_.fC;_.xz;let P=_.h_;_.x8;let A=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(_.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});A.displayName=_.aV.displayName;let R=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(P,{children:[(0,s.jsx)(A,{}),(0,s.jsxs)(_.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(_.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(D.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});R.displayName=_.VY.displayName;let z=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};z.displayName="DialogHeader";let E=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};E.displayName="DialogFooter";let Z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(_.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});function F(e){let{open:t,title:a,children:r,onClose:l,onOk:n,okText:i="OK",cancelText:d="Cancel",loading:o=!1,showFooter:c=!0}=e;return(0,s.jsx)(k,{open:t,onOpenChange:e=>!e&&l(),children:(0,s.jsxs)(R,{className:"border-gray-500 bg-black",children:[(0,s.jsx)(z,{children:(0,s.jsx)(Z,{className:"text-emerald-500",children:a||""})}),(0,s.jsx)("div",{className:"py-2",children:r}),c&&(0,s.jsxs)(E,{className:"flex justify-end space-x-2 pt-4",children:[(0,s.jsx)(C.z,{variant:"outline",onClick:l,children:d}),(0,s.jsx)(C.z,{onClick:n,disabled:o,children:o?"Loading...":i})]})]})})}Z.displayName=_.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(_.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})}).displayName=_.dk.displayName;var L=a(9501),T=a(6900),O=a(3590),U=a(3699),V=a(2721);let Y=T.Ry({note:T.Z_().optional()});function B(e){let{note:t,user_id:a}=e,[i,d]=(0,r.useState)(!1),o=(0,L.cI)({resolver:(0,O.F)(Y),defaultValues:{note:t}}),c=async e=>{let t={...e,user_id:a};console.log("Payload: ",t);try{d(!0),await (0,n.v_)("/api/admin/user-note",t),l.A.success("Note submitted successfully!",{duration:800})}catch(e){l.A.error("Failed to submit note.")}finally{d(!1)}};return(0,s.jsx)("div",{className:"w-full space-y-4",children:(0,s.jsxs)(U.y,{form:o,onSubmit:c,className:"space-y-4",children:[(0,s.jsx)(V.t,{name:"note",type:"textarea",placeholder:"Add note"}),(0,s.jsx)(C.z,{type:"submit",className:"w-full bg-emerald-500 text-black hover:bg-emerald-400",disabled:i,children:i?"Saving..":"Save"})]})})}let H=e=>{let{user_id:t}=e,[a,i]=(0,r.useState)(""),[d,o]=(0,r.useState)(!1),u=async()=>{try{let e=await (0,n.U2)("/api/admin/user-note?user_id=".concat(t));i(e.responseData.note||"")}catch(e){l.A.error("Failed to load the user note"),console.error("Fetch note failed: ",e)}};return(0,r.useEffect)(()=>{u()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Zb,{className:"card-bg border-slate-700",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5 text-emerald-500"}),"Wallet"]})}),(0,s.jsxs)(c.aY,{children:[a&&(0,s.jsx)("div",{className:"border p-2 mb-2",children:a.substring(0,50)+"..."}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(C.z,{onClick:()=>o(!0),children:" Add / View Note "})})]})]}),(0,s.jsx)(F,{open:d,onClose:()=>o(!1),title:"Note",showFooter:!1,children:(0,s.jsx)(B,{note:a,user_id:t})})]})};var G=a(8617);a(3117),a(2676),a(1422);var M=a(2369),W=a(9345);let J=(0,a(535).j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function q(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)(J({variant:a}),t),...r})}let K=e=>{let{data:t,loading:a}=e;return(console.log("Data: ",null==t?void 0:t.subscription_plan),a||!t)?(0,s.jsx)(y.a,{}):(0,s.jsxs)(c.Zb,{className:"card-bg border-slate-700 row-span-2",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[(0,s.jsx)(M.Z,{className:"h-5 w-5"}),"Profile Information"]})}),(0,s.jsxs)(c.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-r from-cyan-400 to-blue-500 shadow-lg",children:(0,s.jsx)(M.Z,{className:"h-8 w-8 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white",children:[t.firstName," ",t.lastName]}),(0,s.jsxs)("p",{className:"flex items-center gap-1 text-slate-300",children:[(0,s.jsx)(W.Z,{className:"h-4 w-4"}),t.email]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[(0,s.jsx)("span",{className:"text-slate-300",children:"First Name"}),(0,s.jsx)("span",{className:"font-medium text-white",children:t.firstName})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[(0,s.jsx)("span",{className:"text-slate-300",children:"Last Name"}),(0,s.jsx)("span",{className:"font-medium text-white",children:t.lastName})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[(0,s.jsx)("span",{className:"text-slate-300",children:"Email"}),(0,s.jsx)("span",{className:"font-medium text-white",children:t.email})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[(0,s.jsx)("span",{className:"text-slate-300",children:"Phone"}),(0,s.jsx)("span",{className:"font-medium text-white",children:t.phone||"Not Added"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-600 py-2",children:[(0,s.jsx)("span",{className:"text-slate-300",children:"Date Joined"}),(0,s.jsx)("span",{className:"font-medium text-white",children:(0,i.R)(t.date_joined)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,s.jsx)("span",{className:"font-medium text-slate-300",children:"Subscription"}),(0,s.jsxs)(q,{className:"".concat((e=>{switch(e){case"SILVER":default:return"bg-gradient-to-r from-gray-400 to-gray-600 text-white border-gray-300";case"GOLD":return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white border-yellow-300";case"PLATINUM":return"bg-gradient-to-r from-blue-400 to-blue-600 text-white border-blue-300"}})(t.subscription_plan)," border-2 px-4 py-2 text-sm font-bold shadow-lg"),children:[(t.subscription_plan,(0,s.jsx)(G.Z,{className:"h-5 w-5"})),(0,s.jsx)("span",{className:"space-x-1 uppercase tracking-wide",children:(0,s.jsxs)("span",{className:"ml-2 text-xs",children:[" ",(null==t?void 0:t.subscription_plan)||"ABCD"," "]})})]})]})]})]})]})};var Q=e=>{let{user_id:t}=e,[a,u]=(0,r.useState)([]),[m,x]=(0,r.useState)(1),[f,p]=(0,r.useState)(10),[g,h]=(0,r.useState)(0),[b,j]=(0,r.useState)(!1),v=async()=>{if(t)try{var e,a,s;j(!0);let r=await (0,n.U2)("/api/admin/get-user-activity?user_id=".concat(t,"&page=").concat(m,"&page_size=").concat(f)),l=(null==r?void 0:null===(e=r.responseData)||void 0===e?void 0:e.result)||[],i=(null==r?void 0:null===(s=r.responseData)||void 0===s?void 0:null===(a=s.paginationDetails)||void 0===a?void 0:a.count)||0;u(l),h(i)}catch(e){l.A.error("Error fetching user activity"),console.error(e)}finally{j(!1)}};return(0,r.useEffect)(()=>{v()},[m,f,t]),(0,s.jsxs)(c.Zb,{className:"p-4",children:[(0,s.jsx)("h1",{className:"mb-2 font-semibold",children:"User Activity"}),(0,s.jsx)(d.G,{columns:[{title:"ID",dataIndex:"id"},{title:"Email",dataIndex:"email"},{title:"API Called",dataIndex:"api_called"},{title:"Activity Time",dataIndex:"activity_time",render:e=>(0,i.p)(e)},{title:"Request Payload",dataIndex:"request_payload",render:e=>JSON.stringify(e)},{title:"Browser",dataIndex:"browser"},{title:"IP Address",dataIndex:"ip_address"},{title:"Latitude",dataIndex:"latitude"},{title:"Longitude",dataIndex:"longitude"}],dataSource:a,loading:b}),(0,s.jsx)(o.Z,{currentPage:m,totalRecords:g,pageSize:f,onPageChange:x,onPageSizeChange:e=>{x(1),p(e)},pageSizeOptions:[5,10,20,50]})]})},X=e=>{let{user_id:t}=e,[a,u]=(0,r.useState)([]),[m,x]=(0,r.useState)(1),[f,p]=(0,r.useState)(10),[g,h]=(0,r.useState)(0),[b,j]=(0,r.useState)(!1),v=async()=>{if(t)try{var e,a;j(!0);let s=await (0,n.U2)("/api/admin/user-wallet-history?user_id=".concat(t,"&page=").concat(m,"&page_size=").concat(f)),r=(null==s?void 0:s.responseData.result)||[],l=(null==s?void 0:null===(a=s.responseData)||void 0===a?void 0:null===(e=a.paginationDetails)||void 0===e?void 0:e.count)||0;u(r),h(l)}catch(e){l.A.error("Error fetching wallet history"),console.error(e)}finally{j(!1)}};return(0,r.useEffect)(()=>{v()},[m,f,t]),(0,s.jsxs)(c.Zb,{className:"p-4",children:[(0,s.jsx)("h1",{className:"mb-2 font-semibold",children:"Wallet History"}),(0,s.jsx)(d.G,{columns:[{title:"ID",dataIndex:"id"},{title:"Transaction Type",dataIndex:"txn_type",render:e=>e.toUpperCase()},{title:"Amount",dataIndex:"amount"},{title:"Comment",dataIndex:"comment",render:e=>e||"-"},{title:"API Name",dataIndex:"api_name",render:e=>e||"-"},{title:"Txn ID",dataIndex:"txn_id",render:e=>e||"-"},{title:"Created At",dataIndex:"created_at",render:e=>(0,i.p)(e)}],dataSource:a,loading:b}),(0,s.jsx)(o.Z,{currentPage:m,totalRecords:g,pageSize:f,onPageChange:x,onPageSizeChange:e=>{x(1),p(e)},pageSizeOptions:[5,10,20,50]})]})};let $=T.Ry({amount:T.Z_().refine(e=>!isNaN(Number(e))&&Number(e)>0,{message:"Amount must be a positive number"}),comment:T.Z_().optional()});function ee(e){let{txnType:t,user_id:a}=e,[i,d]=(0,r.useState)(!1),o=(0,L.cI)({resolver:(0,O.F)($),defaultValues:{amount:"",comment:""}}),c=async e=>{let s={...e,user_id:a,txn_type:t};try{d(!0),await (0,n.v_)("/api/admin/wallet-update",s),l.A.success("Transaction submitted successfully!",{duration:800}),o.reset()}catch(e){l.A.error("Failed to submit transaction.")}finally{d(!1)}};return(0,s.jsx)("div",{className:"w-full space-y-4",children:(0,s.jsxs)(U.y,{form:o,onSubmit:c,className:"space-y-4",children:[(0,s.jsx)(V.t,{name:"amount",label:"Amount",type:"text",placeholder:"Enter amount"}),(0,s.jsx)(V.t,{name:"comment",label:"Comment",type:"text",placeholder:"Optional comment"}),(0,s.jsx)(C.z,{type:"submit",className:"w-full bg-emerald-500 text-black hover:bg-emerald-400",disabled:i,children:i?"Submitting...":"Submit Transaction"})]})})}let et=e=>{var t;let{data:a,loading:l,user_id:n}=e,[d,o]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1);return l||!a?(0,s.jsx)(y.a,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Zb,{className:"card-bg border-slate-700",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2 text-emerald-500",children:[(0,s.jsx)(v.Z,{className:"h-5 w-5 text-emerald-500"}),"Wallet"]})}),(0,s.jsxs)(c.aY,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Balance:"}),(0,s.jsx)("p",{className:"text-gray-300",children:a.balance})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-white",children:"Last Transaction Date:"}),(0,s.jsx)("p",{className:"text-gray-300",children:(0,i.R)(null===(t=a.last_successful_transaction)||void 0===t?void 0:t.created_at)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,s.jsx)(C.z,{onClick:()=>o(!0),children:" Credit "}),(0,s.jsx)(C.z,{onClick:()=>m(!0),children:" Debit "})]})]})]}),(0,s.jsx)(F,{open:d,onClose:()=>o(!1),title:"Wallet Credit",showFooter:!1,children:(0,s.jsx)(ee,{txnType:"credit",user_id:n})}),(0,s.jsx)(F,{open:u,onClose:()=>m(!1),title:"Wallet Debit",showFooter:!1,children:(0,s.jsx)(ee,{txnType:"debit",user_id:n})})]})};var ea=a(3577),es=e=>{let{user_id:t}=e,[a,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(),[c,u]=(0,r.useState)(),[x,f]=(0,r.useState)(),[p,g]=(0,r.useState)(),h=[{value:"bookmarks",label:"Bookmarks",component:(0,s.jsx)(m,{user_id:t})},{value:"loginHistory",label:"Login History",component:(0,s.jsx)(S,{user_id:t})},{value:"walletHistory",label:"Wallet History",component:(0,s.jsx)(X,{user_id:t})},{value:"userActivity",label:"User Activity",component:(0,s.jsx)(Q,{user_id:t})}],v=async()=>{i(!0);try{let e=await (0,n.U2)("/api/admin/get-user-info?user_id=".concat(t)),a=await (0,n.U2)("/api/admin/get-user-wallet-balance?user_id=".concat(t));o(e.responseData),u(a.responseData),f(e.responseData.sessionData),g(e.responseData.sessionData)}catch(e){e instanceof ea.d7&&l.A.error(e.message),console.log(e)}finally{i(!1)}};return(0,r.useEffect)(()=>{v()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{title:"User Profile",backButton:!0,path:"/users"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[(0,s.jsx)(K,{data:d,loading:a}),(0,s.jsx)(et,{data:c,loading:a,user_id:t}),(0,s.jsx)(H,{user_id:t}),(0,s.jsx)(I,{data:x,loading:a}),(0,s.jsx)(w,{data:p,loading:a})]}),(0,s.jsx)(b,{tabs:h})]})}},6070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return n},aY:function(){return o},ll:function(){return d}});var s=a(7437),r=a(2265),l=a(4508);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"}},function(e){e.O(0,[672,415,330,399,173,971,117,744],function(){return e(e.s=2384)}),_N_E=e.O()}]);