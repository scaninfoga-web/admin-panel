(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{245:function(e,t,n){Promise.resolve().then(n.bind(n,8816)),Promise.resolve().then(n.t.bind(n,4742,23)),Promise.resolve().then(n.bind(n,4438)),Promise.resolve().then(n.bind(n,9139)),Promise.resolve().then(n.t.bind(n,6050,23))},8816:function(e,t,n){"use strict";var r=n(7437),o=n(3145),a=n(2869),l=n(386),i=n(473),s=n(9376);t.default=()=>{let e=(0,l.v9)(e=>e.user.token),t=(0,l.I0)(),n=(0,s.useRouter)();return(0,r.jsx)("header",{className:"w-full fixed top-0 bg-background px-6 z-10",children:(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)(o.default,{src:"https://website-stuff-logos.s3.ap-south-1.amazonaws.com/1.png",alt:"scaninfoga",width:200,height:0,objectFit:"contain",unoptimized:!0,priority:!0,loading:"eager"})}),(0,r.jsx)("div",{children:e&&(0,r.jsx)(a.z,{onClick:()=>{t((0,i.kS)()),n.refresh()},children:" Logout "})})]})})}},2869:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(7437),o=n(2265),a=n(7495),l=n(535),i=n(4508);let s=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-background shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-primary text-primary bg-background shadow-sm hover:text-accent-foreground hover:border-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:n,variant:o,size:l,asChild:u=!1,...c}=e,d=u?a.g7:"button";return(0,r.jsx)(d,{className:(0,i.cn)(s({variant:o,size:l,className:n})),ref:t,...c})});u.displayName="Button"},9116:function(e,t,n){"use strict";n.d(t,{U2:function(){return c},v_:function(){return d}});var r=n(3464),o=n(26);let a=n(257).env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8000/",l=r.default.create({baseURL:a,timeout:1e5,headers:{"Content-Type":"application/json"}}),i=()=>o.h.getState().user.token||null,s=()=>{let e=o.h.getState().info||{};return{latitude:e.latitude||"",longitude:e.longitude||"",browser:e.browser||"",device:e.device||"",ip:e.ip||""}},u=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{let o=i(),a=s(),u={...r.headers,clientInfo:JSON.stringify(a)};o&&(u.Authorization="Bearer ".concat(o));let c={method:e,url:t,...r,headers:u};null!==n&&["post","put","patch"].includes(e.toLowerCase())&&(c.data=n),null!==n&&"get"===e.toLowerCase()&&(c.params=n);try{return(await l(c)).data}catch(e){throw console.log(e),e}}catch(e){throw console.error("API call failed:",e),e}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u("get",e,t,n)},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u("post",e,t,n)}},4508:function(e,t,n){"use strict";n.d(t,{R:function(){return i},cn:function(){return a},p:function(){return l}});var r=n(1994),o=n(3335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}let l=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},i=e=>{if(!e)return"---";let t=new Date(e),n=e=>e.toString().padStart(2,"0"),r=n(t.getDate()),o=n(t.getMonth()+1),a=t.getFullYear(),l=n(t.getHours()),i=n(t.getMinutes()),s=n(t.getSeconds());return"".concat(r,"/").concat(o,"/").concat(a," ").concat(l,":").concat(i,":").concat(s)}},9139:function(e,t,n){"use strict";n.d(t,{ProviderUtil:function(){return s}});var r=n(7437),o=n(386),a=n(4438),l=n(9625),i=n(26);function s(e){let{children:t}=e;return(0,r.jsxs)(o.zt,{store:i.h,children:[(0,r.jsx)(a.Toaster,{position:"top-right",richColors:!0}),(0,r.jsx)(l.r,{loading:null,persistor:i.D,children:t})]})}},26:function(e,t,n){"use strict";let r;n.d(t,{D:function(){return b},h:function(){return y}});var o,a=n(2032),l=n(301),i=n(2577),s=n(473);let u=(0,l.oM)({name:"info",initialState:{latitude:null,longitude:null,ip:null,browser:null,device:null,userAgent:null,platform:null,language:null,cookiesEnabled:null,javascriptEnabled:null,touchSupport:null,deviceType:null,cpuCores:null,memory:null,screenSize:null,batteryLevel:null,isCharging:null,gpuRenderer:null,cameras:null,microphones:null,publicIp:null,isp:null,asn:null,city:null,country:null,possibleIoT:null},reducers:{setInfo:(e,t)=>({...e,...t.payload})}}),{setInfo:c}=u.actions;var d=u.reducer,g=n(9116);let f=(0,l.hg)("wallet/fetchBalance",async(e,t)=>{try{let e=await (0,g.U2)("/api/payments/getWalletBalance"),t=await (0,g.U2)("/api/payments/isTxnPending");return{...e.responseData,isPendingTxn:t.responseData.isPendingTxn}}catch(e){var n;return t.rejectWithValue((null===(n=e.response)||void 0===n?void 0:n.data)||"Unknown error")}}),h=(0,l.oM)({name:"wallet",initialState:{loading:!0,error:null,balance:0,isPendingTxn:!1},reducers:{setBalance:(e,t)=>{e.balance=t.payload}},extraReducers:e=>{e.addCase(f.pending,e=>{e.loading=!0,e.error=null}).addCase(f.fulfilled,(e,t)=>{var n,r;e.loading=!1,e.balance=Number(t.payload.balance),e.lastSuccessTxnDate=null===(n=t.payload.last_successful_transaction)||void 0===n?void 0:n.created_at,e.lastSuccessTxnAmount=null===(r=t.payload.last_successful_transaction)||void 0===r?void 0:r.amount,e.isPendingTxn=t.payload.isPendingTxn}).addCase(f.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"Failed to fetch balance"})}}),{setBalance:p}=h.actions;var v=h.reducer;r=n(9090).Z;let m=(o=(0,a.UY)({user:s.ZP,info:d,wallet:v}),r?(0,i.OJ)({key:"root",storage:r,whitelist:["user","info"]},o):o),y=(0,l.xC)({reducer:m,middleware:e=>e({serializableCheck:!1})}),b=(0,i.p5)(y)},473:function(e,t,n){"use strict";n.d(t,{Dj:function(){return u},kS:function(){return d}});var r=n(301),o=n(1614);let a=(0,o.getCookie)("accessToken"),l=(0,o.getCookie)("user"),i={token:"string"==typeof a?JSON.parse(a):null,user:"string"==typeof l?JSON.parse(l):null},s=(0,r.oM)({name:"user",initialState:i,reducers:{setCredentials:(e,t)=>{e.token=t.payload.token,e.user=t.payload.user,(0,o.setCookie)("accessToken",JSON.stringify(t.payload.token||null),{maxAge:86400,path:"/"}),(0,o.setCookie)("user",JSON.stringify(t.payload.user||null),{maxAge:864e3,path:"/"})},setPhone:(e,t)=>{e.user&&(e.user.phone=t.payload,(0,o.setCookie)("user",JSON.stringify(e.user),{maxAge:864e3,path:"/"}))},logout:e=>{e.token=null,e.user=null,(0,o.deleteCookie)("accessToken"),(0,o.deleteCookie)("user")}}}),{setCredentials:u,setPhone:c,logout:d}=s.actions;t.ZP=s.reducer},6050:function(){}},function(e){e.O(0,[342,672,250,26,971,117,744],function(){return e(e.s=245)}),_N_E=e.O()}]);